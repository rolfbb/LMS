@model LMS.ViewModels.Module.ModuleTableViewModel
@using LMS.ViewModels.Module

@{
    ViewBag.Title = "Index";
}

@*<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-12"></div>
<div class="col-md-offset-10 col-md-2">
</div>*@
<div class="container">
    <div class="row">
        <div class="col-md-9">
            @Html.ActionLink("Add Module", "Create", "Modules", new { @class = "btn btn-primary", courseId = Model.CourseId }, null)
        </div>
        <div class="col-md-3 pull-right">
            @if (User.IsInRole("Teacher"))
            {
                @Html.ActionLink("Add Document", "UploadDocumentCourse", "Documents", new { id = Model.CourseId }, null) <span>|</span>
                @Html.ActionLink("Course Document", "IndexDocumentCourse", "Documents", new { id = Model.CourseId }, null)
            }
        </div>
    </div>
    @*<div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>
    <div class="col-md-12"></div>*@

    @if (Model.Modules.Any())
    {
        <div class="row">
            <div class="col-md-1">
                @Html.DisplayNameFor(model => model.Name)
            </div>
            <div class="col-md-3">
                @Html.DisplayNameFor(model => model.Description)
            </div>
            <div class="col-md-2">
                @Html.DisplayNameFor(model => model.StartDate)
            </div>
            <div class="col-md-2">
                @Html.DisplayNameFor(model => model.EndDate)
            </div>
            <div class="col-md-2">

            </div>
            <div class="col-md-2">
                @Html.DisplayName("Documents")
            </div>
        </div>

        <div class="panel-group" id="module-accordion">
            @foreach (var module in Model.Modules.OrderByDescending(m => m.StartDate))
            {
                @Html.Partial("_Module", new ModuleViewModel()
                {
                    CollapseId = "collapse" + module.Id,
                    EditDelDetailsId = "edd" + module.Id,
                    Module = module
                })
            }
        </div>
    }
</div>
